# Database configuration
db:
  type: postgresdb

# External PostgreSQL configuration
externalPostgresql:
  host: "10.43.100.198"
  username: "n8n"
  port: 5432
  database: "n8n"
  existingSecret: "n8n-secrets"

# Use existing encryption key secret (SealedSecret)
existingEncryptionKeySecret: n8n-secrets

# Main node configuration
main:
  count: 1
  persistence:
    enabled: true
    accessMode: ReadWriteOnce
    size: 10Gi
    mountPath: "/home/node/.n8n"
  extraEnvVars:
    WEBHOOK_URL: "https://n8n.julionogueira.net/"
    N8N_EDITOR_BASE_URL: "https://n8n.julionogueira.net/"
    VUE_APP_URL_BASE_API: "https://n8n.julionogueira.net/"
    GENERIC_TIMEZONE: "America/Sao_Paulo"

# Note: ingress is managed by ArgoCD via a dedicated manifest in
# charts/root-app/templates/n8n-ingress.yaml to ensure the backend port
# matches the service (5678) without relying on the n8n chart's values schema.